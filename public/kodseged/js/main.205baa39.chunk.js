(this.webpackJsonpkodseged=this.webpackJsonpkodseged||[]).push([[0],{109:function(e,t,n){e.exports=n(460)},114:function(e,t,n){},38:function(e,t,n){},410:function(e,t){},412:function(e,t){},431:function(e,t){},460:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(101),i=n.n(r),o=(n(114),n(38),n(115),n(10)),l=n(6),u=n.n(l),s=n(3),f=n(15),m=n(2),d=n(34),b=n(465),v=n(464),p=n(13),g=n(119);function j(e){var t=e.containerRef,n=e.channel,r=e.fontSize,i=e.fileChanges,l=e.videoStateChanged,u=e.currentLayout,f=e.explicitelyActive,b=e.setExplicitelyActive,v=e.isFollowingEnabled,j=(e.setFollowingEnabled,e.isVisible),h=e.getCurrentTime,E=Object(a.useRef)({}),y=Object(a.useState)({}),k=Object(m.a)(y,2),w=k[0],C=k[1],N=Object(a.useState)(""),x=Object(m.a)(N,2),S=x[0],A=x[1],L=Object(a.useState)(),R=Object(m.a)(L,2),T=R[0],I=R[1];Object(a.useEffect)((function(){E.current=i.filter((function(e){return 0===e.timestamp})).reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t.fileName,t))}),{}),Object.keys(E.current)[0]&&(C(E.current),I(!0))}),[]),Object(a.useEffect)((function(){A(Object.keys(E.current).reduceRight((function(e,t){return t}),""))}),[T]),Object(a.useEffect)((function(){for(var e,t,n=Object.keys(i.reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t.fileName,t))}),{})),a=h(),c={},r=function(){var e=u[l],t=i.filter((function(t){return t.fileName===e})).filter((function(e){return e.timestamp<a}));if(!t.length)return"continue";var n=t.pop();c[e]=n},l=0,u=n;l<u.length;l++)r();E.current=Object(s.a)(Object(s.a)({},E.current),c);for(var f=0,m=Object.values(c);f<m.length;f++){var d=m[f];d.timestamp<t||(t=d.timestamp,e=d.fileName)}A(e),b("")}),[l]),Object(a.useEffect)((function(){z(),setTimeout((function(){n.postMessage({event:"init",payload:{files:E.current,active:S}})}),100)}),[l]),Object(a.useEffect)((function(){n.onmessage=function(e){"clientConnected"===e.data.event&&n.postMessage({event:"init",payload:{files:E.current,active:S}})}}),[]);var F=Object(a.useRef)([1]);Object(a.useEffect)((function(){setTimeout((function(){n.postMessage({event:"refresh",payload:{files:E.current,active:S,changedLines:F.current}})}),100)}),[w]);var U=Object(a.useRef)(!0);Object(a.useEffect)((function(){U.current=v}),[v]),Object(a.useEffect)((function(){var e=setInterval(z,50);return function(){clearInterval(e)}}),[]);var V=Object(a.useState)(0),M=Object(m.a)(V,2),B=M[0],H=M[1];function z(){var e,t=h(),n=i.filter((function(e){return e.timestamp<t}));if(n.length){var a=n.pop();(null===(e=E.current[a.fileName])||void 0===e?void 0:e.content)!==a.content&&(U.current&&(F.current=function(e,t){var n;if(!(null===(n=t[e.fileName])||void 0===n?void 0:n.content))return;return new g(t[e.fileName].content,e.content).changes.filter((function(e){return e.changes>0})).map((function(e){return e.lineno}))}(a,E.current),H((function(e){return e+1}))),E.current=Object(s.a)(Object(s.a)({},E.current),{},Object(o.a)({},a.fileName,a)),C(E.current),A(a.fileName))}}Object(a.useEffect)((function(){var e=Array.from(document.querySelectorAll(".linenumber"));e.forEach((function(e){return e.parentElement.style.backgroundColor=""}));var t,n=e.filter((function(e){var t;return null===(t=F.current)||void 0===t?void 0:t.includes(parseInt(e.innerHTML))})),a=Object(d.a)(n);try{var c=function(){var e=t.value;e.parentElement.style.backgroundColor="#555",setTimeout((function(){e.parentElement.style.backgroundColor="#333"}),200)};for(a.s();!(t=a.n()).done;)c()}catch(r){a.e(r)}finally{a.f()}n[0]&&document.getElementById("code-container").scroll({top:n[0].offsetTop-D/2.7,behavior:"smooth"})}),[B]);var P=Object(a.useState)(t.current.clientHeight),W=Object(m.a)(P,2),D=W[0],q=W[1],J=Object(a.useRef)(u);if(Object(a.useEffect)((function(){if(J.current!==u){J.current=u,q({inline:function(e){return 2*e.current.clientHeight/3},block:function(e){return e.current.clientHeight},inlineWide:function(e){return e.current.clientHeight}}[u](t))}}),[u]),j)return"";var G=f||S;return c.a.createElement("div",{className:{inline:"col-md-4",block:"col-md-12",inlineWide:"col-md-8"}[u]+" p-0 ",style:{height:"block"===u?t.current.clientHeight:D,background:"linear-gradient(90deg, #23241F, #161616)"}},Object.entries(E.current).map((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return c.a.createElement("div",{key:n,className:"text-center p-2",style:{background:G===n?"black":"rgb(35, 36, 31)",color:G===n?"white":"grey",width:parseInt(100/Object.values(E.current).length)+"%",borderBottom:"1px solid lightgrey",display:"inline-block",cursor:"pointer"},onClick:function(){(S!==n||f)&&b(n)},"data-tip":S===n||f?"":"<span class='text-info'><b>"+n+"</b></span> megtekint\xe9se \xe9s a vide\xf3 sz\xfcneteltet\xe9se","data-html":!0},n,S===n||f?"":c.a.createElement(p.a,{place:"bottom",type:"dark",effect:"float"}))})),c.a.createElement("div",{className:"overflow-auto",id:"code-container"},Object.entries(E.current).filter((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return G===n})).map((function(e){var n=Object(m.a)(e,2),a=n[0],i=n[1];return c.a.createElement("div",{key:a,style:{height:t.current.clientHeight-30-(f?45:0)},className:"font-family-monospace"},O(r,i.languageName,i.content))}))))}function O(e,t,n){return c.a.createElement(b.a,{customStyle:{fontSize:e,background:"linear-gradient(90deg, #23241F, #171717)"},codeTagProps:{style:{lineHeight:"inherit",fontSize:"inherit"}},showLineNumbers:!0,wrapLines:!0,lineProps:{style:{paddingBottom:3,paddingTop:3}},style:v.a,language:t},n)}n(368);var h=n(11),E=n(9),y={inline:"offset-md-8 col-md-4",block:"col-md-12",inlineWide:"offset-md-4 col-md-8"};function k(e){var t=e.setFontSize,n=e.currentLayout,r=(e.setCurrentLayout,e.isVisible),i=e.setVisible,o=(e.explicitelyActive,e.setExplicitelyActive,e.isFollowingEnabled,e.setFollowingEnabled,e.channel);return c.a.createElement("div",{className:"row",style:{backgroundColor:"rgb(35, 36, 31)"}},c.a.createElement("div",{className:y[n],style:{backgroundColor:"rgb(35, 36, 31)"}},c.a.createElement("button",{className:"btn btn-sm btn-warning d-inline-block mr-2",onClick:function(){i((function(e){return!e}))},"data-tip":r?"Megjelen\xedt\xe9s":"Elrejt\xe9s"},c.a.createElement(h.a,{icon:r?E.b:E.c}),c.a.createElement(p.a,{place:"bottom",type:"dark",effect:"float"})),r?"":c.a.createElement(a.Fragment,null,o.noop?"":c.a.createElement("button",{className:"btn btn-sm btn-warning d-inline-block mr-2",onClick:function(){i(!0),Object.assign(document.createElement("a"),{target:"_blank",href:"/kodseged-kliens?isFullPageClientApp=1"}).click()},"data-tip":"Teljes k\xe9perny\u0151"},c.a.createElement(h.a,{icon:E.a}),c.a.createElement(p.a,{place:"bottom",type:"dark",effect:"float"})),c.a.createElement("button",{className:"btn btn-sm btn-outline-warning m-1",onClick:function(){t((function(e){return e-1}))},"data-tip":"Bet\u0171m\xe9ret cs\xf6kkent\xe9se"},c.a.createElement("small",null,c.a.createElement(h.a,{icon:E.d})),c.a.createElement(h.a,{icon:E.g}),c.a.createElement(p.a,{place:"bottom",type:"dark",effect:"float"})),c.a.createElement("button",{className:"btn btn-sm btn-outline-warning m-1",onClick:function(){t((function(e){return e+1}))},"data-tip":"Bet\u0171m\xe9ret n\xf6vel\xe9se"},c.a.createElement("small",null,c.a.createElement(h.a,{icon:E.f})),c.a.createElement(h.a,{icon:E.g}),c.a.createElement(p.a,{place:"bottom",type:"dark",effect:"float"})))))}function w(e){var t=e.fileChangesURL,n=e.videoURL,r=e.layout,i=Object(a.useState)([]),o=Object(m.a)(i,2),l=o[0],d=o[1],b=Object(a.useState)(""),v=Object(m.a)(b,2),p=v[0],g=v[1],j=Object(a.useState)(!1),O=Object(m.a)(j,2),h=O[0],E=O[1],y=Object(a.useState)(16),w=Object(m.a)(y,2),N=w[0],x=w[1],S=Object(a.useState)(),A=Object(m.a)(S,2),L=A[0],R=A[1],T=c.a.useMemo((function(){return new BroadcastChannel("codeAssistant")}),[]);Object(a.useEffect)((function(){R(r)}),[]),Object(a.useEffect)((function(){Object(f.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).catch(console.log);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(n.ok){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,n.json().catch(console.log);case 9:if(a=e.sent){e.next=12;break}return e.abrupt("return");case 12:d(a.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{languageName:G(e.fileName)})})));case 13:case"end":return e.stop()}}),e)})))()}),[]);var I=Object(a.useRef)(),F=Object(a.useState)(!1),U=Object(m.a)(F,2),V=(U[0],U[1]);return l.length?c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:("inline"===L?"col-md-8":"col-md-12")+" p-0 pr-1"},c.a.createElement("video",{onLoadedData:function(){V(!0)},className:"w-100",id:"video",src:n,controls:!0,width:"100%",crossOrigin:"anonymous",ref:I})),I.current?c.a.createElement(C,{channel:T,fontSize:N,isVisible:h,className:"w-100",fileChanges:l,explicitelyActive:p,setExplicitelyActive:g,currentLayout:L,videoReference:I}):""),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 p-0",style:{backgroundColor:"rgb(35, 36, 31)"}},c.a.createElement(k,{setFontSize:x,currentLayout:L,setCurrentLayout:R,isVisible:h,setVisible:E,explicitelyActive:p,setExplicitelyActive:g}))))):c.a.createElement("div",{className:"text-center"},"Bet\xf6lt\xe9s...")}function C(e){var t=e.fileChanges,n=e.videoReference,r=e.currentLayout,i=e.channel,l=e.explicitelyActive,u=e.setExplicitelyActive,f=e.fontSize,d=e.isVisible,b=Object(a.useRef)({}),v=Object(a.useState)({}),p=Object(m.a)(v,2),g=p[0],j=p[1],h=Object(a.useState)(""),E=Object(m.a)(h,2),y=E[0],k=E[1],w=Object(a.useRef)();function C(){var e;if(n.current){var a=t.filter((function(e){return e.timestamp<n.current.currentTime}));if(a.length){var c=a.pop();(null===(e=b.current[c.fileName])||void 0===e?void 0:e.content)!==c.content&&(b.current=Object(s.a)(Object(s.a)({},b.current),{},Object(o.a)({},c.fileName,c)),j(b.current),k(c.fileName))}}}if(Object(a.useEffect)((function(){return w.current=setInterval(C,50),function(){clearInterval(w.current)}}),[]),Object(a.useEffect)((function(){n.current.addEventListener("seeked",(function(){C(),setTimeout((function(){i.postMessage({event:"init",payload:{files:b.current,active:y}})}),100)}))}),[]),Object(a.useEffect)((function(){i.onmessage=function(e){"clientConnected"===e.data.event&&i.postMessage({event:"init",payload:{files:b.current,active:y}})}}),[]),Object(a.useEffect)((function(){setTimeout((function(){i.postMessage({event:"refresh",payload:{files:b.current,active:y}})}),100)}),[g]),Object(a.useEffect)((function(){n.current.addEventListener("seeked",(function(){for(var e,a,c=Object.keys(t.reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t.fileName,t))}),{})),r={},i=function(){var e=f[l],a=t.filter((function(t){return t.fileName===e})).filter((function(e){return e.timestamp<n.current.currentTime}));if(!a.length)return"continue";var c=a.pop();r[e]=c},l=0,f=c;l<f.length;l++)i();b.current=r;for(var m=0,d=Object.values(r);m<d.length;m++){var v=d[m];v.timestamp<a||(a=v.timestamp,e=v.fileName)}k(e),u("")}))}),[]),d)return"";var N=l||y;return c.a.createElement("div",{className:("inline"===r?"col-md-4":"col-md-12")+" p-0",style:{height:n.current.clientHeight,backgroundColor:"rgb(35, 36, 31)"}},Object.entries(b.current).map((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return c.a.createElement("div",{key:n,className:"text-center",style:{backgroundColor:N===n?"black":"rgb(35, 36, 31)",color:N===n?"white":"grey",width:parseInt(100/Object.values(b.current).length)+"%",borderBottom:"1px solid lightgrey",height:"30px",display:"inline-block",cursor:"pointer"},onClick:function(){(y!==n||l)&&u(n)}},n)})),c.a.createElement("div",{className:"overflow-auto"},Object.entries(b.current).filter((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return N===n})).map((function(e){var t=Object(m.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{style:{height:n.current.clientHeight-30-(l?45:0)},key:a,className:"font-family-monospace"},O(f,r.languageName,r.content))}))))}var N=n(35);function x(e){var t,n=e.fileChangesURL,r=e.videoId,i=e.layout,o=e.wrapperClassName,l=Object(a.useRef)(),d=Object(a.useState)(),b=Object(m.a)(d,2),v=b[0],p=b[1],g=Object(a.useState)(0),O=Object(m.a)(g,2),h=O[0],E=O[1],y=Object(a.useState)(),w=Object(m.a)(y,2),C=w[0],x=w[1],A=Object(a.useState)(""),L=Object(m.a)(A,2),R=L[0],T=L[1],I=Object(a.useState)(!0),F=Object(m.a)(I,2),U=F[0],V=F[1],M=Object(a.useState)(!1),B=Object(m.a)(M,2),H=B[0],z=B[1],P=Object(a.useState)(16),W=Object(m.a)(P,2),D=W[0],q=W[1];try{t=new BroadcastChannel("codeAssistant")}catch(Q){t={onmessage:function(){},postMessage:function(){},close:function(){},noop:!0}}c.a.useMemo((function(){return t}),[]),c.a.useEffect((function(){return t.onmessage=function(e){"clientClosed"===e.data.event&&z(!1)},t.close}),[]),Object(a.useEffect)((function(){x(i)}),[]),Object(a.useEffect)((function(){var e=document.querySelector(".".concat(o));e&&("inline"===C?(e.classList.add("kodseged-inline"),e.classList.remove("kodseged-block")):(e.classList.add("kodseged-block"),e.classList.remove("kodseged-inline")))}),[C]);var J=Object(a.useState)([]),Y=Object(m.a)(J,2),$=Y[0],_=Y[1];Object(a.useEffect)((function(){Object(f.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n).catch(console.log);case 2:if(!(t=e.sent)||t.ok){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.json().catch(console.log);case 7:if((a=e.sent).length){e.next=10;break}return e.abrupt("return");case 10:_(a.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{languageName:G(e.fileName)})})));case 11:case"end":return e.stop()}}),e)})))()}),[]);var K=Object(a.useRef)();return $.length?c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{ref:K,className:("inline"===C?"col-md-8":"col-md-12")+" p-0"},c.a.createElement(N.a,{opts:{width:"100%"},videoId:r,onReady:function(e){l.current=e.target,p(1)},onStateChange:function(e){2===e.data&&E((function(e){return e+1}))}})),v?c.a.createElement(j,{containerRef:K,fontSize:D,channel:t,isVisible:H,className:"w-100",fileChanges:$,videoStateChanged:h,currentLayout:C,setCurrentLayout:x,setExplicitelyActive:T,explicitelyActive:R,getCurrentTime:function(){return l.current.getCurrentTime()}}):S(C)),c.a.createElement(k,{setFontSize:q,currentLayout:C,setCurrentLayout:x,isVisible:H,setVisible:z,explicitelyActive:R,setExplicitelyActive:T,isFollowingEnabled:U,setFollowingEnabled:V,channel:t}))):c.a.createElement("div",{style:{marginTop:50,marginBottom:50}},S(i))}function S(e){return c.a.createElement("div",{className:"inline"===e?"col-md-4":"col-md-12 text-center bg-light"},c.a.createElement("div",{className:"d-flex justify-content-center p-2 rounded"},c.a.createElement("div",{className:"spinner-border text-info",style:{width:"3rem",height:"3rem"}},c.a.createElement("span",{className:"sr-only"},"Bet\xf6lt\xe9s..."))))}var A=n(19),L=n.n(A),R=n(75);function T(e){var t=e.gifUrl,n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],o=r[1],l=Object(a.useState)(!0),d=Object(m.a)(l,2),b=d[0],v=d[1],p=Object(a.useRef)([]),g=Object(a.useRef)(2);Object(a.useEffect)((function(){Object(f.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,R({url:t,frames:"all",outputType:"canvas",cumulative:!0});case 3:n=e.sent,v(!1),g.current=n.length,p.current=n,E({type:"UPDATE"});case 8:case"end":return e.stop()}}),e)})))()}),[]);var j=Object(a.useReducer)((function(e,t){switch(t.type){case"UPDATE":return Object(s.a)(Object(s.a)({},e),{},{calcCount:e.calcCount+1});default:throw new Error("Invalid Action Type")}}),{calcCount:0}),O=Object(m.a)(j,2),h=O[0],E=O[1];return Object(a.useEffect)((function(){p.current[0]&&(o((function(e){return p.current[0]?e.concat([p.current[0].getImage()]):e})),p.current.shift(),setTimeout((function(){E({type:"UPDATE"})}),0))}),[h.calcCount]),b?S("block"):i.length>0?c.a.createElement(I,{frames:i,total:g.current,calcCount:h.calcCount}):""}function I(e){var t=e.frames,n=e.total,r=e.calcCount,i=Object(a.createRef)(),o=Object(a.useState)(0),l=Object(m.a)(o,2),u=l[0],s=l[1],f=Object(a.useRef)(),d=Object(a.useState)(!1),b=Object(m.a)(d,2),v=b[0],p=b[1];return Object(a.useEffect)((function(){if(i.current&&!v){var e=f.current.offsetWidth,n=t[0],a=e/n.width<1?e/n.width:1;i.current.width=n.width*a,i.current.height=n.height*a,i.current.getContext("2d").scale(a,a),i.current.getContext("2d").drawImage(n,0,0),p(!0)}}),[i]),Object(a.useEffect)((function(){if(void 0!==t[u]){var e=t[u],n=f.current.offsetWidth,a=n/e.width<1?n/e.width:1;i.current.width=e.width*a,i.current.height=e.height*a,i.current.getContext("2d").scale(a,a),i.current.getContext("2d").drawImage(e,0,0)}}),[u]),t.length?c.a.createElement("div",{className:"text-center",ref:f},c.a.createElement("canvas",{className:"text-center m-auto",ref:i}),c.a.createElement("div",{className:"main-scroller"},c.a.createElement(L.a,{formatLabel:function(){return""},minValue:0,maxValue:n-1,value:u,onChange:function(e){e>r||s(e)}})),c.a.createElement("div",{className:"buffer-indicator-track"},c.a.createElement(L.a,{disabled:!0,formatLabel:function(){return""},minValue:0,maxValue:n+1,value:r,onChange:function(){}}))):""}var F=n(75);function U(e){var t=e.fileChangesURL,n=e.gifUrl,r=e.showFrameNumber,i=e.layout,l=Object(a.useState)([]),d=Object(m.a)(l,2),b=d[0],v=d[1],p=Object(a.useState)(!0),g=Object(m.a)(p,2),j=g[0],O=g[1],h=Object(a.useState)([]),E=Object(m.a)(h,2),y=E[0],k=E[1],w=Object(a.useRef)([]),C=Object(a.useRef)(1);Object(a.useEffect)((function(){Object(f.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,F({url:n,frames:"all",outputType:"canvas",cumulative:!0});case 3:t=e.sent,O(!1),C.current=t.length,w.current=t,L({type:"UPDATE"});case 8:case"end":return e.stop()}}),e)})))()}),[]);var N=Object(a.useReducer)((function(e,t){switch(t.type){case"UPDATE":return Object(s.a)(Object(s.a)({},e),{},{calcCount:e.calcCount+1});default:throw new Error("Invalid Action Type")}}),{calcCount:0}),x=Object(m.a)(N,2),A=x[0],L=x[1];return Object(a.useEffect)((function(){w.current[0]&&(k((function(e){return w.current[0]?e.concat([w.current[0].getImage()]):e})),w.current.shift(),setTimeout((function(){L({type:"UPDATE"})}),0))}),[A.calcCount]),Object(a.useEffect)((function(){Object(f.a)(u.a.mark((function e(){var n,a,c,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).catch(console.log);case 2:if((n=e.sent).ok){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.text();case 7:a=e.sent,c=new DOMParser,r=c.parseFromString(a,"text/xml"),i=Array.from(r.firstChild.children).map((function(e){return Array.from(e.children).reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t.localName,"frame"===t.localName?parseInt(t.innerHTML):t.innerHTML))}),{})})).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{content:e.content.replace("&gt;",">").replace("&lt;","<")})})),v(i.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{languageName:G(e.fileName)})})));case 12:case"end":return e.stop()}}),e)})))()}),[]),j?S("block"):y.length>0?c.a.createElement(V,{frames:y,fileChanges:b,showFrameNumber:r,layout:i,total:C.current,calcCount:A.calcCount}):""}function V(e){var t=e.frames,n=e.fileChanges,r=e.showFrameNumber,i=e.layout,o=e.total,l=e.calcCount,u=Object(a.createRef)(),s=Object(a.useState)(0),f=Object(m.a)(s,2),d=f[0],b=f[1],v=Object(a.useRef)(),p=Object(a.useState)(0),g=Object(m.a)(p,2),j=g[0],O=g[1],h=Object(a.useState)(!1),E=Object(m.a)(h,2),y=E[0],k=E[1];return Object(a.useEffect)((function(){O(v.current.offsetHeight)}),[v.current]),Object(a.useEffect)((function(){if(u.current&&!y){var e=v.current.offsetWidth,n=t[0],a=e/n.width<1?e/n.width:1;u.current.width=n.width*a,u.current.height=n.height*a,u.current.getContext("2d").scale(a,a),u.current.getContext("2d").drawImage(n,0,0),k(!0)}}),[u]),Object(a.useEffect)((function(){if(t[d]){var e=t[d],n=v.current.offsetWidth,a=n/e.width<1?n/e.width:1;u.current.width=e.width*a,u.current.height=e.height*a,u.current.getContext("2d").scale(a,a),u.current.getContext("2d").drawImage(e,0,0)}}),[d]),"inline"===i?c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-7 p-0 mb-5",ref:v},c.a.createElement("canvas",{ref:u}),c.a.createElement("div",{className:"main-scroller"},o-1>0?c.a.createElement(L.a,{formatLabel:function(e){return r?e:""},minValue:0,maxValue:o-1,value:d,onChange:function(e){e>l||b(e)}}):""),c.a.createElement("div",{className:"buffer-indicator-track"},c.a.createElement(L.a,{disabled:!0,formatLabel:function(){return""},minValue:0,maxValue:o+1,value:l,onChange:function(){}}))),c.a.createElement("div",{className:"col-md-5 p-0 m-0"},v.current?c.a.createElement(M,{fileChanges:n,frame:d,height:j}):"")):void 0!==t.length?c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"text-center mb-5",ref:v},c.a.createElement("canvas",{ref:u}),c.a.createElement("div",{className:"main-scroller"},o-1>0?c.a.createElement(L.a,{formatLabel:function(e){return r?e:""},minValue:0,maxValue:o-1,value:d,onChange:function(e){e>l||b(e)}}):""),c.a.createElement("div",{className:"buffer-indicator-track"},c.a.createElement(L.a,{disabled:!0,formatLabel:function(){return""},minValue:0,maxValue:o+1,value:l,onChange:function(){}}))),v.current?c.a.createElement(M,{fileChanges:n,frame:d,height:j}):""):""}function M(e){var t=e.fileChanges,n=e.frame,r=e.height,i=Object(a.useRef)({}),l=Object(a.useState)({}),u=Object(m.a)(l,2),f=(u[0],u[1],Object(a.useState)("")),d=Object(m.a)(f,2),b=d[0],v=d[1],p=Object(a.useState)(""),g=Object(m.a)(p,2),j=g[0],h=g[1];Object(a.useEffect)((function(){h("");for(var e,a,c=Object.keys(t.reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t.fileName,t))}),{})),r={},l=function(){var e=f[u],a=t.filter((function(t){return t.fileName===e})).filter((function(e){return e.frame<n}));if(!a.length)return"continue";var c=a.pop();r[e]=c},u=0,f=c;u<f.length;u++)l();i.current=r;for(var m=0,d=Object.values(r);m<d.length;m++){var b=d[m];b.frame<a||(a=b.frame,e=b.fileName)}v(e)}),[n]);var E=j||b;return c.a.createElement("div",{className:"col-md-12 p-0 overflow-auto",style:{height:r,backgroundColor:"rgb(35, 36, 31)"}},Object.entries(i.current).map((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return c.a.createElement("div",{key:n,className:"text-center p-2",style:{backgroundColor:E===n?"black":"rgb(35, 36, 31)",color:E===n?"white":"grey",width:parseInt(100/Object.values(i.current).length)+"%",borderBottom:"1px solid lightgrey",display:"inline-block",cursor:"pointer"},onClick:function(){(b!==n||j)&&h(n)}},n)})),Object.entries(i.current).filter((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return E===n})).map((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];return c.a.createElement("div",{key:n,className:"font-family-monospace"},O(20,a.languageName,a.content))})))}function B(e){var t=e.videoId;return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 p-0"},c.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"720px"}},c.a.createElement(N.a,{opts:{width:"100%"},videoId:t})))))}function H(){var e=Object(a.useState)({}),t=Object(m.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),o=Object(m.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(16),f=Object(m.a)(s,2),b=f[0],v=f[1],g=Object(a.useState)(""),j=Object(m.a)(g,2),y=j[0],k=j[1],w=Object(a.useState)(0),C=Object(m.a)(w,2),N=C[0],x=C[1],S=Object(a.useRef)([1]),A=c.a.useMemo((function(){return new BroadcastChannel("codeAssistant")}),[]);c.a.useEffect((function(){A.postMessage({event:"clientConnected"}),A.onmessage=function(e){var t={refresh:function(e){r(e.files);var t=e.active&&Object.keys(e.files).includes(e.active)?e.active:Object.keys(e.files).pop();u(t),k(""),S.current=e.changedLines,x((function(e){return e+1}))},init:function(e){r(e.files),u(e.active&&Object.keys(e.files).includes(e.active)?e.active:Object.keys(e.files).pop())}}[e.data.event];t&&t(e.data.payload)}}),[]),Object(a.useEffect)((function(){var e=Array.from(document.querySelectorAll(".linenumber"));e.forEach((function(e){return e.parentElement.style.backgroundColor=""}));var t,n=e.filter((function(e){var t;return null===(t=S.current)||void 0===t?void 0:t.includes(parseInt(e.innerHTML))})),a=Object(d.a)(n);try{var c=function(){var e=t.value;e.parentElement.style.backgroundColor="#555",setTimeout((function(){e.parentElement.style.backgroundColor="#333"}),200)};for(a.s();!(t=a.n()).done;)c()}catch(i){a.e(i)}finally{a.f()}if(n[0]){var r=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);window.scroll({top:n[0].offsetTop-r/2.7,behavior:"smooth"})}}),[N]);var L=y||l;return c.a.createElement("div",{className:"col-md-12 p-0 w-100 mt-5",style:{background:"linear-gradient(90deg, #23241F, #161616)"}},c.a.createElement("div",{className:"w-100 fixed-top"},Object.entries(n).map((function(e){var t=Object(m.a)(e,2),a=t[0];t[1];return c.a.createElement("div",{key:a,className:"text-center p-2",style:{backgroundColor:L===a?"black":"rgb(35, 36, 31)",color:L===a?"white":"grey",width:parseInt(100/Object.values(n).length)+"%",borderBottom:"1px solid lightgrey",display:"inline-block",cursor:"pointer"},onClick:function(){(l!==a||y)&&(k(a),A.postMessage({event:"paused"}))},"data-tip":l===a||y?"":"<span class='text-info'><b>"+a+"</b></span> megtekint\xe9se \xe9s a vide\xf3 sz\xfcneteltet\xe9se","data-html":!0},a,l===a||y?"":c.a.createElement(p.a,{place:"bottom",type:"dark",effect:"float"}))}))),c.a.createElement("div",{className:"overflow-auto",id:"code-container"},Object.entries(n).filter((function(e){var t=Object(m.a)(e,2),n=t[0];t[1];return L===n})).map((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];return c.a.createElement("div",{key:n,className:"font-family-monospace"},O(b,a.languageName,a.content))}))),c.a.createElement("div",{className:"row p-3"},c.a.createElement("div",{className:"btn-group fixed-bottom w-25"},c.a.createElement("button",{className:"btn btn-sm btn-warning m-1",onClick:function(){v((function(e){return e-1}))},"data-tip":"Bet\u0171m\xe9ret cs\xf6kkent\xe9se"},c.a.createElement("small",null,c.a.createElement(h.a,{icon:E.d})),c.a.createElement(h.a,{icon:E.g}),c.a.createElement(p.a,{place:"top",type:"dark",effect:"float"})),c.a.createElement("button",{className:"btn btn-sm btn-warning m-1",onClick:function(){v((function(e){return e+1}))},"data-tip":"Bet\u0171m\xe9ret n\xf6vel\xe9se"},c.a.createElement("small",null,c.a.createElement(h.a,{icon:E.f})),c.a.createElement(h.a,{icon:E.g}),c.a.createElement(p.a,{place:"top",type:"dark",effect:"float"})),c.a.createElement("button",{className:"btn btn-sm btn-danger m-1",onClick:function(){A.postMessage({event:"clientClosed"}),window.close()},"data-tip":"Bez\xe1r\xe1s"},c.a.createElement(h.a,{icon:E.h}),c.a.createElement(p.a,{place:"top",type:"dark",effect:"float"})),c.a.createElement("button",{className:"btn btn-sm btn-info m-1",onClick:function(){A.postMessage({event:"paused"})},"data-tip":"Vide\xf3 sz\xfcneteltet\xe9se"},c.a.createElement(h.a,{icon:E.e}),c.a.createElement(p.a,{place:"top",type:"dark",effect:"float"})))))}var z=n(36),P=n(57),W=n.n(P);function D(e){var t,n=e.fileChangesURL,r=e.videoId,i=e.layout,l=e.wrapperClassName,d=e.isAutoplay,b=Object(a.useState)(),v=Object(m.a)(b,2),p=v[0],g=v[1],O=Object(a.useState)(0),h=Object(m.a)(O,2),E=h[0],y=h[1],w=Object(a.useState)(),C=Object(m.a)(w,2),N=C[0],x=C[1],A=Object(a.useState)(""),L=Object(m.a)(A,2),R=L[0],T=L[1],I=Object(a.useState)(!0),F=Object(m.a)(I,2),U=F[0],V=F[1],M=Object(a.useState)(!1),B=Object(m.a)(M,2),H=B[0],P=B[1],D=Object(a.useState)(14),q=Object(m.a)(D,2),J=q[0],Y=q[1];try{t=new BroadcastChannel("codeAssistant")}catch(oe){t={onmessage:function(){},postMessage:function(){},close:function(){},noop:!0}}c.a.useMemo((function(){return t}),[]);var $=Object(a.useState)(!1),_=Object(m.a)($,2),K=_[0],Q=_[1];c.a.useEffect((function(){return t.onmessage=function(e){"clientClosed"===e.data.event&&P(!1)},t.onmessage=function(e){"paused"===e.data.event&&Q(!0)},t.close}),[]),Object(a.useEffect)((function(){x(i)}),[]);var X={inline:"kodseged-inline",block:"kodseged-block",inlineWide:"kodseged-inline-wide"};Object(a.useEffect)((function(){var e=document.querySelector(".".concat(l));e&&(Object.values(X).forEach((function(t){e.classList.remove(t)})),X[N]&&e.classList.add(X[N]))}),[N]),Object(a.useEffect)((function(){R&&Q(!0)}),[R]);var Z=Object(a.useState)([]),ee=Object(m.a)(Z,2),te=ee[0],ne=ee[1];function ae(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(f.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return n=e.sent,a=new DOMParser,c=a.parseFromString(n,"text/xml"),e.abrupt("return",Array.from(c.firstChild.children).map((function(e){return Array.from(e.children).reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t.localName,t.innerHTML))}),{})})).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{timestamp:W()(e.timestamp,"mm:ss").diff(W()().startOf("day"),"seconds")})})).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{content:e.content.replace("&gt;",">").replace("&lt;","<")})})).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{content:e.content.replace("<![CDATA[\n","").replace("]]>","")})})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){Object(f.a)(u.a.mark((function e(){var t,a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n).catch(console.log);case 2:if(!(a=e.sent)||a.ok){e.next=5;break}return e.abrupt("return");case 5:if(c=Object.fromEntries(Array.from(a.headers.entries())),r=[],"application/xml"!==c["content-type"]){e.next=11;break}return e.next=10,ae(a);case 10:r=e.sent;case 11:if("application/json"!==c["content-type"]){e.next=15;break}return e.next=14,a.json().catch(console.log);case 14:r=e.sent;case 15:if(null===(t=r)||void 0===t?void 0:t.length){e.next=17;break}return e.abrupt("return");case 17:ne(r.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{languageName:G(e.fileName)})})));case 18:case"end":return e.stop()}}),e)})))()}),[]);var re=Object(a.useRef)(),ie=Object(a.useRef)(0);if(!te.length)return c.a.createElement("div",{style:{marginTop:30,marginBottom:30}},S(i));return c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{ref:re,className:{inline:"col-md-8",block:"col-md-12",inlineWide:"col-md-4"}[N]+" p-0",style:{backgroundColor:"rgb(35, 36, 31)"}},c.a.createElement(z.a,{paused:K,onPlay:function(){Q(!1),T("")},video:r,autoplay:d,responsive:!0,onReady:function(e){g(1)},onTimeUpdate:function(e){ie.current=e.seconds},onSeeked:function(e){y((function(e){return e+1}))}})),p?c.a.createElement(j,{containerRef:re,fontSize:J,channel:t,isVisible:H,className:"w-100",fileChanges:te,videoStateChanged:E,currentLayout:N,setCurrentLayout:x,setExplicitelyActive:T,explicitelyActive:R,isFollowingEnabled:U,setFollowingEnabled:V,getCurrentTime:function(){return ie.current}}):c.a.createElement("span",{style:{margin:"auto"}},S(i))),c.a.createElement(k,{setFontSize:Y,currentLayout:N,setCurrentLayout:x,isVisible:H,setVisible:P,explicitelyActive:R,setExplicitelyActive:T,isFollowingEnabled:U,setFollowingEnabled:V,channel:t})))}function q(e){var t=e.videoId,n=e.isAutoplay,r=Object(a.useState)(!1),i=Object(m.a)(r,2),o=i[0],l=i[1];return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},o?S("block"):c.a.createElement("div",{className:"col-md-12 p-0",style:{backgroundColor:"#151515"}},c.a.createElement(z.a,{autoplay:n,video:t,responsive:!0,onReady:function(e){l(!1)}}))))}function J(e){var t=e.fileChangesURL,n=e.videoURL,a=e.gifURL,r=e.type,i=e.showFrameNumber,o=e.layout,l=e.videoId,u=e.wrapperClassName,s=e.isAutoplay,f={codeAssistantYoutube:function(){return c.a.createElement(x,{layout:o,fileChangesURL:t,videoId:l,wrapperClassName:u})},codeAssistantVimeo:function(){return c.a.createElement(D,{layout:o,fileChangesURL:t,videoId:l,wrapperClassName:u,isAutoplay:s})},youtube:function(){return c.a.createElement(B,{videoId:l})},vimeo:function(){return c.a.createElement(q,{videoId:l,isAutoplay:s})},onSite:function(){return c.a.createElement(w,{layout:o,fileChangesURL:t,videoURL:n})},gif:function(){return c.a.createElement(T,{gifUrl:a})},codeAssistantGif:function(){return c.a.createElement(U,{fileChangesURL:t,gifUrl:a,showFrameNumber:i,layout:o})},codeAssistantClient:function(){return c.a.createElement(H,null)}}[r];return f?f():"Invalid type (".concat(r,")")}function G(e){var t=e?e.substr(e.lastIndexOf(".")+1):"plaintext";return"txt"===t?"plaintext":t}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(459);!function(){var e=document.getElementsByClassName("kodseged");e.length&&(new URLSearchParams(window.location.search).get("isFullPageClientApp")?Array.from(e).filter((function(e){return"codeAssistantClient"===e.dataset.type})).forEach(t):Array.from(e).filter((function(e){return"codeAssistantClient"!==e.dataset.type})).forEach(t),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})));function t(e){var t,n,a,r,o,l,u,s,f;i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(J,{wrapperClassName:null===(t=e.dataset)||void 0===t?void 0:t.wrapperclassname,fileChangesURL:null===(n=e.dataset)||void 0===n?void 0:n.filechangesurl,videoURL:null===(a=e.dataset)||void 0===a?void 0:a.videourl,videoId:null===(r=e.dataset)||void 0===r?void 0:r.videoid,isAutoplay:Boolean(null===(o=e.dataset)||void 0===o?void 0:o.isautoplay),type:null===(l=e.dataset)||void 0===l?void 0:l.type,gifURL:null===(u=e.dataset)||void 0===u?void 0:u.gifurl,showFrameNumber:Boolean(null===(s=e.dataset)||void 0===s?void 0:s.showframenumber),layout:null===(f=e.dataset)||void 0===f?void 0:f.layout})),e)}}()}},[[109,1,2]]]);