(this.webpackJsonpsimple_system=this.webpackJsonpsimple_system||[]).push([[0],{21:function(e,t,a){},29:function(e,t,a){e.exports=a(44)},34:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(27),r=a.n(l),m=(a(34),a(21),a(10)),s=a(3),o=a(11),i=a(12),u=a.n(i),d=a(14),p=a(15),b=a(17),E=a(2),f=a(4),v=a(5);function N(){return c.a.createElement("div",{className:"w-100 m-auto text-center pt-5 mt-5"},c.a.createElement("div",{className:"spinner-border text-success",style:{height:"100px",width:"100px"}}))}function g(e,t){return Object.values(Object.entries(e).filter((function(e){var a=Object(E.a)(e,2),n=a[0],c=(a[1],n.split("-"));return Object(E.a)(c,1)[0]===t})).reduce((function(e,t){var a=Object(E.a)(t,2),n=a[0],c=a[1],l=n.split("-"),r=Object(E.a)(l,3),m=(r[0],r[1]),s=r[2];return Object(b.a)(Object(b.a)({},e),{},Object(p.a)({},s,e[s]?Object(b.a)(Object(b.a)({},e[s]),{},Object(p.a)({},m,c.value)):Object(p.a)({},m,c.value)))}),{}))}function h(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),m=Object(E.a)(r,2),i=m[0],p=m[1],b=Object(n.useState)(!1),h=Object(E.a)(b,2),k=h[0],y=h[1],O=Object(s.g)();return k?c.a.createElement(N,null):c.a.createElement("div",{className:"card p-3"},c.a.createElement("h1",null,"\xdaj recept:"),c.a.createElement("hr",null),c.a.createElement("form",{onSubmit:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("name",t.target.elements.name.value),a.append("ingredients",JSON.stringify(g(t.target.elements,"ingredient"))),a.append("steps",JSON.stringify(g(t.target.elements,"step"))),a.append("image",t.target.elements["img-url"].files[0]),y(!0),e.next=9,fetch("".concat("/recipe-app","/api/recipes"),{method:"POST",body:a,credentials:"include"});case 9:y(!1),O.push("/react-kurzus/fejlessz-onalloan?url=/receptek");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},c.a.createElement("div",{className:"form-group row pb-3 border-bottom"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"N\xe9v:"),c.a.createElement("div",{className:"col-sm-10"},c.a.createElement("input",{type:"text",name:"name",className:"form-control",required:!0}))),c.a.createElement("div",{className:"form-group row pb-3 border-bottom"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Hozz\xe1val\xf3k:"),a.map((function(e,t){return c.a.createElement("div",{key:e,className:"col-sm-10 offset-2"},c.a.createElement("div",{className:"row mb-3 "+(t===a.length-1?"":"border-bottom")},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"text",name:"ingredient-name-"+t,className:"form-control d-inline-block mr-2 mb-2",placeholder:"N\xe9v",required:!0})),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("input",{type:"text",name:"ingredient-quantity-"+t,className:"form-control d-inline-block mr-2 mb-2",placeholder:"Mennyis\xe9g",required:!0})),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("select",{defaultValue:"",name:"ingredient-type-"+t,className:"form-control d-inline-block mr-2 mb-2",required:!0},c.a.createElement("option",{value:"",disabled:!0},"T\xedpus"),c.a.createElement("option",{value:"meat"},"H\xfas"),c.a.createElement("option",{value:"drink"},"Ital"),c.a.createElement("option",{value:"dairy"},"Tejterm\xe9k"),c.a.createElement("option",{value:"fruit"},"Gy\xfcm\xf6lcs"),c.a.createElement("option",{value:"spice"},"F\u0171szer"),c.a.createElement("option",{value:"other"},"Egy\xe9b"))),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("div",{className:"w-100"},c.a.createElement("button",{className:"btn btn-danger mb-3",type:"button",onClick:function(){l((function(t){var a=Object(o.a)(t);return a.splice(t.findIndex((function(t){return t===e})),1),a}))}},c.a.createElement(f.a,{icon:v.h}))))))})),c.a.createElement("div",{className:"row w-100"},c.a.createElement("div",{className:"col-md-3 offset-md-9"},c.a.createElement("button",{type:"button",className:"btn btn-success btn-sm float-right",onClick:function(){l((function(e){return[].concat(Object(o.a)(e),[j()])}))}},c.a.createElement(f.a,{icon:v.f}))))),c.a.createElement("div",{className:"form-group row pb-3 border-bottom"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"L\xe9p\xe9sek:"),i.map((function(e,t){return c.a.createElement("div",{key:e,className:"col-sm-10 offset-2"},c.a.createElement("div",{className:"row mb-3 "+(t===i.length-1?"":"border-bottom")},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"text",name:"step-content-"+t,className:"form-control d-inline-block mr-2 mb-2",placeholder:t+1+". l\xe9p\xe9s",required:!0})),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("input",{type:"number",name:"step-timer-"+t,className:"form-control d-inline-block mr-2 mb-2",placeholder:"Id\u0151",min:1,required:!0})),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("div",{className:"w-100"},c.a.createElement("button",{className:"btn btn-danger mb-3",type:"button",onClick:function(){p((function(t){var a=Object(o.a)(t);return a.splice(t.findIndex((function(t){return t===e})),1),a}))}},c.a.createElement(f.a,{icon:v.h}))))))})),c.a.createElement("div",{className:"row w-100"},c.a.createElement("div",{className:"col-md-3 offset-md-9"},c.a.createElement("button",{type:"button",className:"btn btn-success btn-sm float-right",onClick:function(){p((function(e){return[].concat(Object(o.a)(e),[j()])}))}},c.a.createElement(f.a,{icon:v.f}))))),c.a.createElement("div",{className:"form-group row pb-3 border-bottom"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"K\xe9p:"),c.a.createElement("div",{className:"col-md-6 offset-md-1"},c.a.createElement("input",{type:"file",name:"img-url",className:"form-control"}),c.a.createElement("i",null,"Figyelem, a f\xe1jlfelt\xf6lt\xe9s csak a mell\xe9kelt szerver programban m\u0171k\xf6dik!"))),c.a.createElement("button",{type:"submit",className:"btn btn-success btn-sm"},"K\xfcld\xe9s ",c.a.createElement(f.a,{icon:v.b}))))}function j(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function k(e){var t=e.recipeSlug,a=Object(n.useState)(),l=Object(E.a)(a,2),r=l[0],m=l[1],i=Object(n.useState)([]),p=Object(E.a)(i,2),b=p[0],h=p[1],k=Object(n.useState)([]),y=Object(E.a)(k,2),O=y[0],x=y[1],w=Object(n.useState)(),z=Object(E.a)(w,2),S=z[0],C=z[1],q=Object(s.g)();function I(){return fetch("".concat("/recipe-app","/api/recipes/").concat(t),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){m(e),h(e.ingredients.map((function(e){return[j(),e]}))),x(e.steps.map((function(e){return[j(),e]})))}))}return Object(n.useEffect)((function(){C(!0),I(),C(!1)}),[]),S||!r?c.a.createElement(N,null):c.a.createElement("div",{className:"card p-3"},c.a.createElement("h1",null,"Recept szerkeszt\xe9se:"),c.a.createElement("hr",null),c.a.createElement("form",{onSubmit:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("name",t.target.elements.name.value),a.append("ingredients",JSON.stringify(g(t.target.elements,"ingredient"))),a.append("steps",JSON.stringify(g(t.target.elements,"step"))),a.append("image",t.target.elements["img-url"].files[0]),C(!0),e.next=9,fetch("".concat("/recipe-app","/api/recipes/").concat(r.id),{method:"PUT",body:a,credentials:"include"});case 9:return e.next=11,I();case 11:C(!1),q.push("/react-kurzus/fejlessz-onalloan?url=/receptek");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},c.a.createElement("div",{className:"form-group row pb-3 border-bottom"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"N\xe9v:"),c.a.createElement("div",{className:"col-sm-10"},c.a.createElement("input",{type:"text",name:"name",className:"form-control",defaultValue:r.name,required:!0}))),c.a.createElement("div",{className:"form-group row pb-3 border-bottom"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"Hozz\xe1val\xf3k:"),b.map((function(e,t){var a=Object(E.a)(e,2),n=a[0],l=a[1];return c.a.createElement("div",{key:n,className:"col-sm-10 offset-2"},c.a.createElement("div",{className:"row mb-3 "+(t===b.length-1?"":"border-bottom")},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"text",name:"ingredient-name-"+t,className:"form-control d-inline-block mr-2 mb-2",placeholder:"N\xe9v",defaultValue:l.name,required:!0})),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("input",{type:"text",name:"ingredient-quantity-"+t,className:"form-control d-inline-block mr-2 mb-2",placeholder:"Mennyis\xe9g",defaultValue:l.quantity,required:!0})),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("select",{name:"ingredient-type-"+t,className:"form-control d-inline-block mr-2 mb-2",defaultValue:l.type},c.a.createElement("option",{value:"",disabled:!0},"T\xedpus"),c.a.createElement("option",{value:"meat"},"H\xfas"),c.a.createElement("option",{value:"drink"},"Ital"),c.a.createElement("option",{value:"dairy"},"Tejterm\xe9k"),c.a.createElement("option",{value:"fruit"},"Gy\xfcm\xf6lcs"),c.a.createElement("option",{value:"spice"},"F\u0171szer"),c.a.createElement("option",{value:"spice"},"Egy\xe9b"))),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("div",{className:"w-100"},c.a.createElement("button",{className:"btn btn-danger mb-3",type:"button",onClick:function(){h((function(e){var t=Object(o.a)(e);return t.splice(e.findIndex((function(e){return Object(E.a)(e,1)[0]===n})),1),t}))}},c.a.createElement(f.a,{icon:v.h}))))))})),c.a.createElement("div",{className:"row w-100"},c.a.createElement("div",{className:"col-md-3 offset-md-9"},c.a.createElement("button",{type:"button",className:"btn btn-success btn-sm float-right",onClick:function(){h((function(e){return[].concat(Object(o.a)(e),[[j(),{name:"",type:"",quantity:""}]])}))}},c.a.createElement(f.a,{icon:v.f}))))),c.a.createElement("div",{className:"form-group row pb-3 border-bottom"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"L\xe9p\xe9sek:"),O.map((function(e,t){var a=Object(E.a)(e,2),n=a[0],l=a[1];return c.a.createElement("div",{key:n,className:"col-sm-10 offset-2"},c.a.createElement("div",{className:"row mb-3 "+(t===O.length-1?"":"border-bottom")},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"text",name:"step-content-"+t,className:"form-control d-inline-block mr-2 mb-2",placeholder:t+1+". l\xe9p\xe9s",defaultValue:l.content,required:!0})),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("input",{type:"number",name:"step-timer-"+t,className:"form-control d-inline-block mr-2 mb-2",placeholder:"Id\u0151",defaultValue:l.timer,required:!0})),c.a.createElement("div",{className:"col-md-2"},c.a.createElement("div",{className:"w-100"},c.a.createElement("button",{className:"btn btn-danger mb-3",type:"button",onClick:function(){x((function(e){var t=Object(o.a)(e);return t.splice(e.findIndex((function(e){var t=Object(E.a)(e,2),a=t[0];t[1];return a===n})),1),t}))}},c.a.createElement(f.a,{icon:v.h}))))))})),c.a.createElement("div",{className:"row w-100"},c.a.createElement("div",{className:"col-md-3 offset-md-9"},c.a.createElement("button",{type:"button",className:"btn btn-success btn-sm float-right",onClick:function(){x((function(e){return[].concat(Object(o.a)(e),[[j(),{content:"",timer:0}]])}))}},c.a.createElement(f.a,{icon:v.f}))))),c.a.createElement("div",{className:"form-group row pb-3 border-bottom"},c.a.createElement("label",{className:"col-sm-2 col-form-label"},"K\xe9p:"),c.a.createElement("div",{className:"col-md-5"},c.a.createElement("input",{type:"file",name:"img-url",className:"form-control"}),c.a.createElement("i",null,"Figyelem, a f\xe1jlfelt\xf6lt\xe9s csak a mell\xe9kelt szerver programban m\u0171k\xf6dik!")),c.a.createElement("div",{className:"col-md-5"},c.a.createElement("img",{src:"".concat("/recipe-app","/static/images/").concat(r.imageURL),className:"img-thumbnail"}))),c.a.createElement("button",{type:"submit",className:"btn btn-success btn-sm"},"K\xfcld\xe9s ",c.a.createElement(f.a,{icon:v.b}))))}function y(e){var t,a=e.recipeSlug,l=Object(n.useState)(),r=Object(E.a)(l,2),m=r[0],s=r[1],o=Object(n.useState)(0),i=Object(E.a)(o,2),u=i[0],d=i[1];return Object(n.useEffect)((function(){fetch("".concat("/recipe-app","/api/recipes/").concat(a),{credentials:"include"}).then((function(e){return e.json()})).then(s)}),[]),m?c.a.createElement("div",null,c.a.createElement("div",{className:"row m-2"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("h1",null,m.name),c.a.createElement("div",{className:"p-2"},c.a.createElement("h3",null,"Hozz\xe1val\xf3k:"),c.a.createElement("ul",{className:"list-group list-group-flush"},m.ingredients.map((function(e,t){return c.a.createElement("li",{key:t,className:"list-group-item"},e.name," (",e.quantity,")")}))))),c.a.createElement("div",{className:"col-md-4 m-auto"},c.a.createElement("img",{width:"100%",className:"card-img-top mb-2",src:"".concat("/recipe-app","/static/images/").concat(m.imageURL),alt:"Card image cap"}))),c.a.createElement("div",{className:"row p-3"},c.a.createElement("div",{className:"col-md-9 border-right"},c.a.createElement("h3",null,"Elk\xe9sz\xedt\xe9s:"),c.a.createElement("ul",{className:"list-group list-group-flush"},m.steps.map((function(e,t){return c.a.createElement("li",{key:t,className:"list-group-item "+(u===t?"active":""),onClick:function(){d(t)}},e.content)})))),c.a.createElement("div",{className:"col-md-3 border-right"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h2",null,c.a.createElement(f.a,{icon:v.c,className:"mr-2"}),(null===(t=m.steps[u])||void 0===t?void 0:t.timer)?m.steps[u].timer+" perc":"-")))))):c.a.createElement(N,null)}function O(e){var t=e.onClosed,a=e.onApproved,n=e.children;return c.a.createElement("div",{className:"modal d-block"},c.a.createElement("div",{className:"modal-dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title"},"Figyelem!"),c.a.createElement("button",{type:"button",className:"close",onClick:t},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},n),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:a},"Meger\u0151s\xedt\xe9s"),c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:t},"Vissza")))))}function x(){var e,t=Object(n.useState)([]),a=Object(E.a)(t,2),l=a[0],r=a[1],s=Object(n.useState)([]),o=Object(E.a)(s,2),i=o[0],p=o[1],b=Object(n.useState)(""),g=Object(E.a)(b,2),h=g[0],j=g[1];function k(){return fetch("/recipe-app/api/recipes",{credentials:"include"}).then((function(e){return e.json()})).then(r)}return Object(n.useEffect)((function(){p(!0),k().finally((function(){p(!1)}))}),[]),i?c.a.createElement(N,null):c.a.createElement(c.a.Fragment,null,""!==h?c.a.createElement(O,{onApproved:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,fetch("".concat("/recipe-app","/api/recipes/").concat(h),{method:"DELETE",credentials:"include"});case 3:return j(""),e.next=6,k();case 6:p(!1);case 7:case"end":return e.stop()}}),e)}))),onClosed:function(){return j("")}},"Biztosan t\xf6rl\xf6d a ",null===(e=l.find((function(e){return e.id===h})))||void 0===e?void 0:e.name," receptj\xe9t?"):"",w(l).map((function(e,t){return c.a.createElement("div",{className:"row mb-3",key:t},e.map((function(e){return c.a.createElement("div",{className:"col-md-4",key:e.id},c.a.createElement("div",{className:"card w-100 h-100"},c.a.createElement("img",{className:"card-img-top mb-2",src:"".concat("/recipe-app","/static/images/").concat(e.imageURL)}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},e.name)),c.a.createElement("div",{className:"w-75 p-3"},c.a.createElement(m.b,{to:"/react-kurzus/fejlessz-onalloan?url=/recept-szerkesztes/".concat(e.slug)},c.a.createElement("button",{className:"btn btn-sm btn-outline-warning mr-2"},c.a.createElement(f.a,{icon:v.e}))),c.a.createElement("button",{className:"btn btn-sm btn-outline-danger mr-2",onClick:function(){j(e.id)}},c.a.createElement(f.a,{icon:v.g})),c.a.createElement(m.b,{to:"/react-kurzus/fejlessz-onalloan?url=/recept/".concat(e.slug)},c.a.createElement("button",{className:"btn btn-sm btn-outline-primary"},c.a.createElement(f.a,{icon:v.d}))))))})))})))}var w=function(e){return e.slice().reduceRight((function(e,t,a,n){return e.push(n.splice(0,3)),e}),[])};function z(){var e=Object(n.useState)(),t=Object(E.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("/recipe-app/api/recipes",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return l(e.length)}))}),[]),c.a.createElement("div",{className:"jumbotron"},c.a.createElement("h1",null,"\xdcdv a recept appban"),c.a.createElement("p",null,"Jelenleg ",a," recept el\xe9rhet\u0151"),c.a.createElement(m.b,{to:"/react-kurzus/fejlessz-onalloan?url=/receptek",activeClassName:"active",exact:!0},c.a.createElement("button",{className:"btn btn-primary"},"Tov\xe1bb ",c.a.createElement(f.a,{icon:v.a}))))}function S(e){var t=new URLSearchParams(Object(s.h)().search).get("url");return t?"/"===t?c.a.createElement(z,e):"/receptek"===t?c.a.createElement(x,e):"/uj-recept"===t?c.a.createElement(h,e):t.includes("/recept-szerkesztes/")?c.a.createElement(k,{recipeSlug:t.split("/")[2]}):t.includes("/recept/")?c.a.createElement(y,{recipeSlug:t.split("/")[2]}):c.a.createElement(s.a,{to:"/react-kurzus/fejlessz-onalloan?url=/"}):c.a.createElement(s.a,{to:"/react-kurzus/fejlessz-onalloan?url=/"})}var C=function(){return c.a.createElement(m.a,null,c.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-primary mb-3"},c.a.createElement("div",{className:"",id:"navbarNav"},c.a.createElement("ul",{className:"navbar-nav lead font-weight-bold"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(m.b,{isActive:function(){return"/"===window.location.search.split("=")[1]},to:"/react-kurzus/fejlessz-onalloan?url=/",activeClassName:"active",exact:!0},c.a.createElement("span",{className:"nav-link"},c.a.createElement("img",{width:"60px",src:"".concat("/recipe-app","/static/assets/logo.png"),alt:""})))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(m.b,{isActive:function(){return"/receptek"===window.location.search.split("=")[1]},to:"/react-kurzus/fejlessz-onalloan?url=/receptek",activeClassName:"active",exact:!0},c.a.createElement("span",{className:"nav-link pt-4"},"Receptek"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(m.b,{isActive:function(){return"/uj-recept"===window.location.search.split("=")[1]},to:"/react-kurzus/fejlessz-onalloan?url=/uj-recept",activeClassName:"active"},c.a.createElement("span",{className:"nav-link pt-4"},"\xdaj recept")))))),c.a.createElement("div",{className:"container",style:{marginTop:"140px"}},c.a.createElement(s.d,null,c.a.createElement(s.b,{component:S,path:"/react-kurzus"}),c.a.createElement(s.a,{to:"/react-kurzus/fejlessz-onalloan?url=/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(43);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.526a4ee1.chunk.js.map