(this["webpackJsonp16-login-system"]=this["webpackJsonp16-login-system"]||[]).push([[0],{34:function(e,t,s){},35:function(e,t,s){},60:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(1),a=s(27),r=s.n(a),i=(s(34),s(9)),l=(s(35),s(10)),o=s(2),j=s(8),u=s(13),b=s.n(u),d="";var h=b.a.create();function m(){var e=Object(o.g)(),t=Object(n.useState)(!1),s=Object(j.a)(t,2),a=s[0],r=s[1];return a?Object(c.jsx)("div",{className:"center-item",children:Object(c.jsx)("div",{className:"spinner-border text-danger"})}):Object(c.jsx)("div",{className:"container-fluid d-flex justify-content-center h-100 login-container",children:Object(c.jsxs)("div",{className:"card login-card",children:[Object(c.jsx)("div",{className:"card-header login-card-header",children:Object(c.jsx)("h4",{children:"Bejelentkez\xe9s"})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("form",{onSubmit:function(t){var s,c;t.preventDefault(),r(!0),(s=t.target.elements.email.value,c=t.target.elements.password.value,b.a.post("https://kodbazis.hu/api/login-user",{email:s,password:c},{withCredentials:!0}).then((function(e){d=e.data.accessToken}))).then((function(){r(!1),e.push("/react-kurzus/bejelentkezesi-felulet-epitese?url=/osszes-szallas")})).catch((function(e){alert("Helytelen bejelentkez\xe9si adatok, k\xe9rj\xfck pr\xf3b\xe1ld \xfajra!"),r(!1)}))},className:"mb-5",children:[Object(c.jsx)("div",{className:"input-group form-group",children:Object(c.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"Email"})}),Object(c.jsx)("div",{className:"input-group form-group",children:Object(c.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Jelsz\xf3"})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn float-right btn-warning",children:"K\xfcld\xe9s"})})]}),Object(c.jsx)("p",{className:"text-light mb-1",children:"Email: user@kodbazis.hu"}),Object(c.jsx)("p",{className:"text-light",children:"Jelsz\xf3: teszt"})]})]})})}function O(){var e=Object(o.g)();return Object(c.jsx)("button",{className:"btn btn-danger m-3 float-right",onClick:function(){b.a.post("https://kodbazis.hu/api/logout-user",{},{withCredentials:!0}).then((function(e){d=""})).finally((function(){e.push("/react-kurzus/bejelentkezesi-felulet-epitese?url=/")}))},children:"Kijelentkez\xe9s"})}function x(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),s=t[0],a=t[1],r=Object(n.useState)(!1),i=Object(j.a)(r,2),u=i[0],b=i[1],d=Object(o.g)();return Object(n.useEffect)((function(){b(!0),h.get("https://kodbazis.hu/api/szallasok").then((function(e){return e.data})).then((function(e){b(!1),a(e)})).catch((function(){b(!1),d.push("/react-kurzus/bejelentkezesi-felulet-epitese?url=/")}))}),[]),u||!s.length?Object(c.jsx)("div",{className:"center-item",children:Object(c.jsx)("div",{className:"spinner-border text-danger"})}):Object(c.jsxs)("div",{children:[Object(c.jsx)(O,{}),Object(c.jsxs)("ul",{className:"list-group w-100",children:[Object(c.jsxs)("div",{className:"row border-bottom p-2 text-dark",children:[Object(c.jsx)("div",{className:"col-xs-12 col-sm-4",children:Object(c.jsx)("h5",{className:"visible-xs",children:"Megnevez\xe9s"})}),Object(c.jsx)("h5",{className:"col-xs-4 col-sm-2 right",children:"Helysz\xedn"}),Object(c.jsx)("h5",{className:"col-xs-8 col-sm-3",children:"Minimum \xe9jszak\xe1k sz\xe1ma"}),Object(c.jsx)("h5",{className:"col-xs-10 col-sm-2",children:"\xc1r"})]}),s.map((function(e){return Object(c.jsx)(l.b,{to:"/react-kurzus/bejelentkezesi-felulet-epitese?url=/szallas-"+e.id,children:Object(c.jsxs)("div",{className:"row border-bottom p-2 text-dark",children:[Object(c.jsxs)("div",{className:"col-xs-12 col-sm-4",children:[Object(c.jsx)("h4",{className:"visible-xs",children:e.name}),Object(c.jsx)("span",{className:"hidden-xs",children:e.host_name})]}),Object(c.jsxs)("div",{className:"col-xs-4 col-sm-2 right",children:[e.neighbourhood," ",e.neighbourhood_group]}),Object(c.jsx)("div",{className:"col-xs-8 col-sm-3",children:e.minimum_nights}),Object(c.jsxs)("div",{className:"col-xs-10 col-sm-2",children:[e.price,"$"]})]})},e.id)}))]})]})}function p(e){var t=e.id,s=Object(n.useState)({}),a=Object(j.a)(s,2),r=a[0],i=a[1],l=Object(n.useState)(!1),u=Object(j.a)(l,2),b=u[0],d=u[1],m=Object(o.g)();return Object(n.useEffect)((function(){d(!0),h.get("https://kodbazis.hu/api/szallasok/"+t).then((function(e){return e.data})).then((function(e){i(e),d(!1)})).catch((function(){d(!1),m.push("/react-kurzus/bejelentkezesi-felulet-epitese?url=/")}))}),[]),b||!r.id?Object(c.jsx)("div",{className:"center-item",children:Object(c.jsx)("div",{className:"spinner-border text-danger"})}):Object(c.jsxs)("div",{className:"card w-100 m-auto p-3",children:[Object(c.jsx)("h1",{children:r.name}),Object(c.jsx)("h3",{children:r.host_name}),Object(c.jsxs)("h3",{children:[r.neighbourhood," ",r.neighbourhood_group]}),Object(c.jsx)("h3",{children:r.minimum_nights}),Object(c.jsx)(O,{})]})}function f(){return Object(c.jsx)(l.a,{children:Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{component:g,path:"/react-kurzus/bejelentkezesi-felulet-epitese"}),Object(c.jsx)(o.b,{path:"/bejelentkezes",exact:!0,component:m}),Object(c.jsx)(o.b,{path:"/osszes-szallas",component:x}),Object(c.jsx)(o.b,{path:"/szallas-:szallasId",children:function(e){return Object(c.jsx)(p,{id:e.match.params.szallasId})}}),Object(c.jsx)(o.a,{to:"/bejelentkezes"})]})})}function g(e){var t=new URLSearchParams(Object(o.h)().search).get("url");return t?"/osszes-szallas"===t?Object(c.jsx)(x,Object(i.a)({},e)):"/bejelentkezes"===t?Object(c.jsx)(m,Object(i.a)({},e)):t.includes("/szallas-")?Object(c.jsx)(p,{id:t.split("-")[1]}):Object(c.jsx)(o.a,{to:"/react-kurzus/bejelentkezesi-felulet-epitese?url=/bejelentkezes"}):Object(c.jsx)(o.a,{to:"/react-kurzus/bejelentkezesi-felulet-epitese?url=/bejelentkezes"})}h.interceptors.request.use((function(e){return d?Object(i.a)(Object(i.a)({},e),{},{headers:Object(i.a)(Object(i.a)({},e.headers),{},{Authorization:"Bearer ".concat(d)})}):e}),(function(e){return Promise.reject(e)})),h.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return 403!==e.response.status||t.isRetry?Promise.reject(e):(t.isRetry=!0,b.a.get("https://kodbazis.hu/api/get-new-access-token",{withCredentials:!0}).then((function(e){d=e.data.accessToken})).then((function(){return h(t)})))}));var z=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,61)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),a(e),r(e)}))};s(59);setTimeout((function(){r.a.render(Object(c.jsx)(f,{}),document.getElementById("root"))}),2500),z()}},[[60,1,2]]]);
//# sourceMappingURL=main.30b62db0.chunk.js.map