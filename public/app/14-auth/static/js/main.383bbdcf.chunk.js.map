{"version":3,"sources":["interceptor.js","Bejelentkezes.js","Kijelentkezes.js","SzallasLista.js","SzallasSingle.js","App.js","reportWebVitals.js","index.js"],"names":["accessToken","fetchWithAuth","axios","create","Bejelentkezes","history","useHistory","useState","isLoginPending","setLoginPending","className","onSubmit","e","email","password","preventDefault","target","elements","value","post","withCredentials","then","res","data","push","catch","err","alert","type","name","placeholder","Kijelentkezes","onClick","console","log","finally","SzallasLista","szallasok","setSzallasok","isPending","setPending","useEffect","get","tartalom","length","map","szallas","to","id","host_name","neighbourhood","neighbourhood_group","minimum_nights","price","SzallasSingle","setSzallas","App","component","WrapperComponent","path","exact","props","match","params","szallasId","fakeURL","URLSearchParams","useLocation","search","includes","split","interceptors","request","use","config","headers","Authorization","error","Promise","reject","response","originalRequest","status","isRetry","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.383bbdcf.chunk.js","sourcesContent":["import axios from \"axios\";\n\nlet accessToken = \"\";\n\nexport function login(email, password) {\n  return axios\n    .post(\"https://kodbazis.hu/api/login-user\", { email, password }, { withCredentials: true })\n    .then((res) => {\n      accessToken = res.data.accessToken;\n    });\n}\n\nexport const fetchWithAuth = axios.create();\nfetchWithAuth.interceptors.request.use(\n  (config) => {\n    if (!accessToken) {\n      return config;\n    }\n\n    return {\n      ...config,\n      headers: {\n        ...config.headers,\n        Authorization: `Bearer ${accessToken}`,\n      },\n      withCredentials: true,\n    };\n  },\n  (error) => Promise.reject(error)\n);\n\nfetchWithAuth.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const originalRequest = error.config;\n    if (error.response.status !== 403) {\n      return Promise.reject(error);\n    }\n\n    if (originalRequest.isRetry) {\n      return Promise.reject(error);\n    }\n\n    originalRequest.isRetry = true;\n    return axios\n      .get(\"https://kodbazis.hu/api/get-new-access-token\", {\n        withCredentials: true,\n      })\n      .then((res) => {\n        accessToken = res.data.accessToken;\n      })\n      .then(() => fetchWithAuth(originalRequest));\n  }\n);\n","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { login } from \"./interceptor\";\nexport function Bejelentkezes() {\n  const history = useHistory();\n  const [isLoginPending, setLoginPending] = useState(false);\n\n  function loginFormSubmit(e) {\n    e.preventDefault();\n    setLoginPending(true);\n    login(e.target.elements.email.value, e.target.elements.password.value)\n      .then(() => {\n        setLoginPending(false);\n        history.push(\"/react-kurzus/bejelentkezesi-felulet-epitese?url=/osszes-szallas\");\n      })\n      .catch((err) => {\n        alert(\"Helytelen bejelentkezési adatok, kérjük próbáld újra!\");\n        setLoginPending(false);\n      });\n  }\n\n  if (isLoginPending) {\n    return (\n      <div className=\"center-item\">\n        <div className=\"spinner-border text-danger\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container-fluid d-flex justify-content-center h-100 login-container\">\n      <div className=\"card login-card\">\n        <div className=\"card-header login-card-header\">\n          <h3>Bejelentkezés</h3>\n        </div>\n        <div className=\"card-body\">\n          <form onSubmit={loginFormSubmit}>\n            <div className=\"input-group form-group\">\n              <input type=\"email\" name=\"email\" className=\"form-control\" placeholder=\"Email\" />\n            </div>\n            <div className=\"input-group form-group\">\n              <input type=\"password\" name=\"password\" className=\"form-control\" placeholder=\"Jelszó\" />\n            </div>\n            <div className=\"form-group\">\n              <button type=\"submit\" className=\"btn float-right btn-warning\">\n                Küldés\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\nimport { fetchWithAuth } from \"./interceptor\";\nexport function Kijelentkezes() {\n  const history = useHistory();\n  return (\n    <button\n      className=\"btn btn-danger m-3 float-right\"\n      onClick={() => {\n        fetchWithAuth\n          .post(\"http://localhost:9090/api/logout-user\")\n          .catch(console.log)\n          .finally(() => {\n            history.push(\"/react-kurzus/bejelentkezesi-felulet-epitese?url=/\");\n          });\n      }}\n    >\n      Kijelentkezés\n    </button>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useHistory, NavLink } from \"react-router-dom\";\nimport { fetchWithAuth } from \"./interceptor\";\nimport { Kijelentkezes } from \"./Kijelentkezes\";\nexport function SzallasLista() {\n  const [szallasok, setSzallasok] = useState([]);\n  const [isPending, setPending] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    setPending(true);\n    fetchWithAuth\n      .get(\"https://kodbazis.hu/api/szallasok\")\n      .then((res) => res.data)\n      .then((tartalom) => {\n        setPending(false);\n        setSzallasok(tartalom);\n      })\n      .catch(() => {\n        setPending(false);\n        history.push(\"/react-kurzus/bejelentkezesi-felulet-epitese?url=/\");\n      });\n  }, []);\n  if (isPending || !szallasok.length) {\n    return (\n      <div className=\"center-item\">\n        <div className=\"spinner-border text-danger\"></div>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Kijelentkezes />\n      <ul className=\"list-group w-100\">\n        <div className=\"row border-bottom p-2 text-dark\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <h5 className=\"visible-xs\">Megnevezés</h5>\n          </div>\n          <h5 className=\"col-xs-4 col-sm-2 right\">Helyszín</h5>\n          <h5 className=\"col-xs-8 col-sm-3\">Minimum éjszakák száma</h5>\n          <h5 className=\"col-xs-10 col-sm-2\">Ár</h5>\n        </div>\n        {szallasok.map((szallas) => (\n          <NavLink key={szallas.id} to={\"/react-kurzus/bejelentkezesi-felulet-epitese?url=/szallas-\" + szallas.id}>\n            <div className=\"row border-bottom p-2 text-dark\">\n              <div className=\"col-xs-12 col-sm-4\">\n                <h4 className=\"visible-xs\">{szallas.name}</h4>\n                <span className=\"hidden-xs\">{szallas.host_name}</span>\n              </div>\n              <div className=\"col-xs-4 col-sm-2 right\">\n                {szallas.neighbourhood} {szallas.neighbourhood_group}\n              </div>\n              <div className=\"col-xs-8 col-sm-3\">{szallas.minimum_nights}</div>\n              <div className=\"col-xs-10 col-sm-2\">{szallas.price}$</div>\n            </div>\n          </NavLink>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { fetchWithAuth } from \"./interceptor\";\nimport { Kijelentkezes } from \"./Kijelentkezes\";\n\nexport function SzallasSingle({ id }) {\n  const [szallas, setSzallas] = useState({});\n  const [isPending, setPending] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    setPending(true);\n    fetchWithAuth\n      .get(\"https://kodbazis.hu/api/szallasok/\" + id)\n      .then((res) => res.data)\n      .then((tartalom) => {\n        setSzallas(tartalom);\n        setPending(false);\n      })\n      .catch(() => {\n        setPending(false);\n        history.push(\"/react-kurzus/bejelentkezesi-felulet-epitese?url=/\");\n      });\n  }, []);\n\n  if (isPending || !szallas.id) {\n    return (\n      <div className=\"center-item\">\n        <div className=\"spinner-border text-danger\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"card w-100 m-auto p-3\">\n      <h1>{szallas.name}</h1>\n      <h3>{szallas.host_name}</h3>\n      <h3>\n        {szallas.neighbourhood} {szallas.neighbourhood_group}\n      </h3>\n      <h3>{szallas.minimum_nights}</h3>\n      <Kijelentkezes />\n    </div>\n  );\n}\n","import \"./App.css\";\nimport { BrowserRouter, Redirect, Route, Switch, useLocation } from \"react-router-dom\";\nimport { Bejelentkezes } from \"./Bejelentkezes\";\nimport { SzallasLista } from \"./SzallasLista\";\nimport { SzallasSingle } from \"./SzallasSingle\";\nexport function App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route component={WrapperComponent} path=\"/react-kurzus/bejelentkezesi-felulet-epitese\" />\n        <Route path=\"/bejelentkezes\" exact component={Bejelentkezes} />\n\n        <Route path=\"/osszes-szallas\" component={SzallasLista} />\n\n        <Route path=\"/szallas-:szallasId\">{(props) => <SzallasSingle id={props.match.params.szallasId} />}</Route>\n\n        <Redirect to={\"/bejelentkezes\"} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nfunction WrapperComponent(props) {\n  const fakeURL = new URLSearchParams(useLocation().search).get(\"url\");\n\n  if (!fakeURL) {\n    return <Redirect to={\"/react-kurzus/bejelentkezesi-felulet-epitese?url=/bejelentkezes\"} />;\n  }\n\n  if (fakeURL === \"/osszes-szallas\") {\n    return <SzallasLista {...props} />;\n  }\n  if (fakeURL === \"/bejelentkezes\") {\n    return <Bejelentkezes {...props} />;\n  }\n  if (fakeURL.includes(\"/szallas-\")) {\n    return <SzallasSingle id={fakeURL.split(\"-\")[1]} />;\n  }\n\n  return <Redirect to={\"/react-kurzus/bejelentkezesi-felulet-epitese?url=/bejelentkezes\"} />;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport {App} from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}