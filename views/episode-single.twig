<div class="mt-3 mb-3 content-body">
	<div class="col-sm-12">
		<div class="card">
			<div class="card-body">
				<div class="card-title">
					<h1 class="mb-4 mt-5">{{ episode.title }}</h1>
				</div>
				<hr>
				{{ episodeContent | raw }}
				<hr class="mb-3">
			</div>

			<div>
				<h2 class="pt-3 pb-2 text-center bg-light">További epizódok:</h2>
				<div class="app mb-3 bg-light" data-position="{{episode.position}}">
					<ul class="hs full">
						{% for ep in allEpisodesInCourse %}
							<a href="/react-kurzus/{{ep.slug}}">
								<li class="item {{ep.id == episode.id ? 'selected-episode' : ''}}">
									{% if ep.imgUrl %}
										<img class="img-thumbnail" src="/public/files/sm-{{ep.imgUrl}}"/>
									{% else %}
										<p class="text-center">{{ ep.title }}</p>
									{% endif %}
								</li>
							</a>
						{% endfor %}
					</ul>
				</div>

				<div class="row ml-2 mr-2 mb-2">
					<div class="col-sm-6 mb-3">
						{% if previousEpisode %}
							<a href="/react-kurzus/{{previousEpisode.slug}}">
								<span class="lead mr-1">
									❮
								</span>
								{{previousEpisode.title}}</a>
						</div>
						<div class="col-sm-6">
							<a class="float-right" href="/react-kurzus/{{nextEpisode.slug}}">
								{{nextEpisode.title}}
								<span class="lead ml-1">
									❯
								</span>
							</a>
						{% endif %}
						{% if nextEpisode %}
						</span>
					</a>
				{% else %}
					<h2>Következő rész hamarosan...</h2>
				{% endif %}
			</div>
		</div>

		{% if not isLoggedIn %}
			{% include 'subscriber-login-form.twig' with {'loginError': loginError, 'email': email}  %}
		{% endif %}
		<div id="fb-root"></div>
	</div>
	<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v8.0&appId=705894336804251&autoLogAppEvents=1" nonce="GLaxzOjV"></script>
	<div class="fb-like" data-href="{{url}}" data-width="" data-layout="standard" data-action="like" data-size="small" data-share="true"></div>
		</div>
	</div>
</div>

<script>
	const pos = parseInt(document.querySelector('.app').dataset.position) - 2;
const epWidth = document.querySelector('.item').offsetWidth + 10;
document.querySelector('.hs').scrollLeft = epWidth * pos;
</script>
